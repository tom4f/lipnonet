<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JSON alarms</title>
</head>
<body>

<div id="output"></div>

<script>

    function getAlarms() {
            fetch ('alarm_summary.json')
            .then( (res)  => res.json())
            .then( (data) => {
                //console.log(data);
                
            let someTest = data.find( curValue => (curValue.name =='0033 FILE UPDATES TO DISK PREVENTED' ));

                console.log(someTest);

                // sort by name
                let sortedData = data.sort( (a, b) => (a.name > b.name ? 1 : -1)  );

                let output = '<h2 class="mb-4">Alarm list</h2>';
                sortedData.forEach( (alarm) => {
                    output += `
                        <ul class="list-group mb-3">
                            <li class="list-group-item">name:   ${alarm.name }</li>
                            <li class="list-group-item">count:  ${alarm.count}</li>
                            <li class="list-group-item">prio:   ${alarm.prio }</li>
                            <li class="list-group-item">file:   ${alarm.file }</li>
                        </ul>
                    `;
                });
                document.getElementById('output').innerHTML = output;
            })
        }

    getAlarms();

</script>

</body>
</html>